"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(o){i=!0,s=o}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw s}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_get=function(e,t,n){for(var r=!0;r;){var i=e,s=t,u=n;a=h=o=void 0,r=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,s);if(void 0!==a){if("value"in a)return a.value;var o=a.get;return void 0===o?void 0:o.call(u)}var h=Object.getPrototypeOf(i);if(null===h)return void 0;e=h,t=s,n=u,r=!0}},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(){var e=function(e,t){function n(e){switch(e.length){case 1:return new T(e[0]);case 2:return new O(e[0],e[1]);case 3:return new R(e[0],e[1],e[2]);case 4:throw new Error("digit(.) should never be called on length 4 lists since it is only called on results of splitDigit which outputs lists of length at most 3");default:throw new Error("cannot make digit for length "+e.length)}}function r(e,t){return l(a,t,e)}function i(e,t){return l(o,f(t),e)}function s(e,t){return l(a,t,new A(e))}function u(e,t){switch(t.length){case 2:return[p(e,t[0],t[1])];case 3:return[m(e,t[0],t[1],t[2])];case 4:return[p(e,t[0],t[1]),p(e,t[2],t[3])];default:return[m(e,t[0],t[1],t[2])].concat(u(e,t.slice(3)))}}function a(e,t){return e.push(t)}function o(e,t){return e.unshift(t)}function h(){var e,n,r,i,s,u,a,o,h,c=arguments;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:for(e=!0,n=!1,r=t,l.prev=3,i=c.length,s=Array(i),u=0;i>u;u++)s[u]=c[u];a=s[Symbol.iterator]();case 6:if(e=(o=a.next()).done){l.next=12;break}return h=o.value,l.delegateYield(h,"t0",9);case 9:e=!0,l.next=6;break;case 12:l.next=18;break;case 14:l.prev=14,l.t1=l["catch"](3),n=!0,r=l.t1;case 18:l.prev=18,l.prev=19,!e&&a["return"]&&a["return"]();case 21:if(l.prev=21,!n){l.next=24;break}throw r;case 24:return l.finish(21);case 25:return l.finish(18);case 26:case"end":return l.stop()}},k[0],this,[[3,14,18,26],[19,,21,25]])}function c(e,n){var r,i,s,u,a,o;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:r=!0,i=!1,s=t,h.prev=3,u=n[Symbol.iterator]();case 5:if(r=(a=u.next()).done){h.next=12;break}return o=a.value,h.next=9,e(o);case 9:r=!0,h.next=5;break;case 12:h.next=18;break;case 14:h.prev=14,h.t0=h["catch"](3),i=!0,s=h.t0;case 18:h.prev=18,h.prev=19,!r&&u["return"]&&u["return"]();case 21:if(h.prev=21,!i){h.next=24;break}throw s;case 24:return h.finish(21);case 25:return h.finish(18);case 26:case"end":return h.stop()}},k[1],this,[[3,14,18,26],[19,,21,25]])}function l(e,n,r){var i=r,s=!0,u=!1,a=t;try{for(var o,h=n[Symbol.iterator]();!(s=(o=h.next()).done);s=!0){var c=o.value;i=e(i,c)}}catch(l){u=!0,a=l}finally{try{!s&&h["return"]&&h["return"]()}finally{if(u)throw a}}return i}function f(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=e.length;case 1:if(!t--){n.next=6;break}return n.next=4,e[t];case 4:n.next=1;break;case 6:case"end":return n.stop()}},k[2],this)}function v(e){return e instanceof _?e:new _(e)}function y(e,t){return l(e.plus.bind(e),c(e.measure.bind(e),t),e.zero())}function w(e,t,r,i){return 0===t.length?r.empty()?s(e,i):new P(e,r.head().digit(),r.tail(),i):new P(e,n(t),r,i)}function d(e,t,r,i){return 0===i.length?r.empty()?s(e,t):new P(e,t,r.init(),r.last().digit()):new P(e,t,r,n(i))}function p(e,t,n){return new j(y(e,[t,n]),t,n)}function m(e,t,n,r){return new M(y(e,[t,n,r]),t,n,r)}var k=[h,c,f].map(regeneratorRuntime.mark),g=function F(e,t,n){return e instanceof A?i(n,t):n instanceof A?r(e,t):e instanceof D?i(n,t).unshift(e.head()):n instanceof D?r(e,t).push(n.last()):new P(e.measure,e.left,F(e.middle,u(e.measure,[].concat(_toConsumableArray(h(e.right,t,n.left)))),n.middle),n.right)},b=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"next",value:function(){return{done:!0}}}]),e}(),x=new b,C=function Y(e,t){_classCallCheck(this,Y),this.element=t,this.v=e.measure(t)},_=function(){function e(t){_classCallCheck(this,e),this.M=t}return _createClass(e,[{key:"zero",value:function(){return this.M.zero()}},{key:"plus",value:function(e,t){return this.M.plus(e,t)}},{key:"measure",value:function(e){return e.v}}]),e}(),E=function U(e,t,n){_classCallCheck(this,U),this.left=e,this.middle=t,this.right=n},T=function(){function e(t){_classCallCheck(this,e),this.a=t}return _createClass(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.a;case 2:case"end":return e.stop()}},t,this)})},{key:"head",value:function(){return this.a}},{key:"last",value:function(){return this.a}},{key:"init",value:function(){throw new Error("cannot call init on digit One")}},{key:"tail",value:function(){throw new Error("cannot call tail on digit One")}},{key:"push",value:function(e){return new O(this.a,e)}},{key:"unshift",value:function(e){return new O(e,this.a)}},{key:"node",value:function(e){throw new Error("cannot convert One to node")}},{key:"splitDigit",value:function(e,t,n){return new E([],this.a,[])}},{key:"length",get:function(){return 1}}]),e}(),O=function(){function e(t,n){_classCallCheck(this,e),this.a=t,this.b=n}return _createClass(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.a;case 2:return e.next=4,this.b;case 4:case"end":return e.stop()}},t,this)})},{key:"head",value:function(){return this.a}},{key:"last",value:function(){return this.b}},{key:"init",value:function(){return new T(this.a)}},{key:"tail",value:function(){return new T(this.b)}},{key:"push",value:function(e){return new R(this.a,this.b,e)}},{key:"unshift",value:function(e){return new R(e,this.a,this.b)}},{key:"node",value:function(e){throw new Error("Two should never be converted to Node2 with current implementation")}},{key:"splitDigit",value:function(e,t,n){return t=n.plus(t,this.a.v),e(t)?new E([],this.a,[this.b]):new E([this.a],this.b,[])}},{key:"length",get:function(){return 2}}]),e}(),R=function(){function e(t,n,r){_classCallCheck(this,e),this.a=t,this.b=n,this.c=r}return _createClass(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.a;case 2:return e.next=4,this.b;case 4:return e.next=6,this.c;case 6:case"end":return e.stop()}},t,this)})},{key:"head",value:function(){return this.a}},{key:"last",value:function(){return this.c}},{key:"init",value:function(){return new O(this.a,this.b)}},{key:"tail",value:function(){return new O(this.b,this.c)}},{key:"push",value:function(e){return new S(this.a,this.b,this.c,e)}},{key:"unshift",value:function(e){return new S(e,this.a,this.b,this.c)}},{key:"node",value:function(e){return m(e,this.a,this.b,this.c)}},{key:"splitDigit",value:function(e,t,n){return t=n.plus(t,this.a.v),e(t)?new E([],this.a,[this.b,this.c]):(t=n.plus(t,this.b.v),e(t)?new E([this.a],this.b,[this.c]):new E([this.a,this.b],this.c,[]))}},{key:"length",get:function(){return 3}}]),e}(),S=function(){function e(t,n,r,i){_classCallCheck(this,e),this.a=t,this.b=n,this.c=r,this.d=i}return _createClass(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.a;case 2:return e.next=4,this.b;case 4:return e.next=6,this.c;case 6:return e.next=8,this.d;case 8:case"end":return e.stop()}},t,this)})},{key:"head",value:function(){return this.a}},{key:"last",value:function(){return this.d}},{key:"init",value:function(){return new R(this.a,this.b,this.c)}},{key:"tail",value:function(){return new R(this.b,this.c,this.d)}},{key:"push",value:function(e){throw new Error("cannot push digit Four")}},{key:"unshift",value:function(e){throw new Error("cannot unshift digit Four")}},{key:"node",value:function(e){throw new Error("cannot convert Four to node")}},{key:"splitDigit",value:function(e,t,n){return t=n.plus(t,this.a.v),e(t)?new E([],this.a,[this.b,this.c,this.d]):(t=n.plus(t,this.b.v),e(t)?new E([this.a],this.b,[this.c,this.d]):(t=n.plus(t,this.c.v),e(t)?new E([this.a,this.b],this.c,[this.d]):new E([this.a,this.b,this.c],this.d,[])))}},{key:"length",get:function(){return 4}}]),e}(),j=function(){function e(t,n,r){_classCallCheck(this,e),this.v=t,this.a=n,this.b=r}return _createClass(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.a;case 2:return e.next=4,this.b;case 4:case"end":return e.stop()}},t,this)})},{key:"digit",value:function(){return new O(this.a,this.b)}},{key:"head",value:function(){throw new Error("trying to call head of Node2")}},{key:"last",value:function(){throw new Error("trying to call last of Node2")}},{key:"init",value:function(){throw new Error("trying to call init of Node2")}},{key:"tail",value:function(){throw new Error("trying to call tail of Node2")}},{key:"push",value:function(e){throw new Error("trying to call push of Node2")}},{key:"unshift",value:function(e){throw new Error("trying to call unshift of Node2")}},{key:"length",get:function(){throw new Error("trying to call length of Node2")}}]),e}(),M=function(){function e(t,n,r,i){_classCallCheck(this,e),this.v=t,this.a=n,this.b=r,this.c=i}return _createClass(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.a;case 2:return e.next=4,this.b;case 4:return e.next=6,this.c;case 6:case"end":return e.stop()}},t,this)})},{key:"digit",value:function(){return new R(this.a,this.b,this.c)}},{key:"head",value:function(){throw new Error("trying to call head of Node3")}},{key:"last",value:function(){throw new Error("trying to call last of Node3")}},{key:"init",value:function(){throw new Error("trying to call init of Node3")}},{key:"tail",value:function(){throw new Error("trying to call tail of Node3")}},{key:"push",value:function(e){throw new Error("trying to call push of Node3")}},{key:"unshift",value:function(e){throw new Error("trying to call unshift of Node3")}},{key:"length",get:function(){throw new Error("trying to call length of Node3")}}]),e}(),N=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"takeUntil",value:function(e){return this.split(e)[0]}},{key:"dropUntil",value:function(e){return this.split(e)[1]}},{key:"extend",value:function(e){return l(a,e,this)}},{key:"extendleft",value:function(e){return l(o,f([].concat(_toConsumableArray(e))),this)}}]),e}(),A=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.measure=e,this.v=e.zero()}return _inherits(t,e),_createClass(t,[{key:"empty",value:function(){return!0}},{key:"head",value:function(){throw new Error("cannot call head on Empty")}},{key:"last",value:function(){throw new Error("cannot call last on Empty")}},{key:"tail",value:function(){return this}},{key:"init",value:function(){return this}},{key:"push",value:function(e){return new D(this.measure,e)}},{key:"unshift",value:function(e){return new D(this.measure,e)}},{key:"concat",value:function(e){return e}},{key:Symbol.iterator,value:function(){return x}},{key:"splitTree",value:function(e,t){throw new Error("splitTree not implemented in Empty")}},{key:"split",value:function(e){return[this,this]}}]),t}(N),D=function(e){function t(e,n){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.measure=e,this.element=n,this.v=e.measure(n)}return _inherits(t,e),_createClass(t,[{key:"empty",value:function(){return!1}},{key:"head",value:function(){return this.element}},{key:"last",value:function(){return this.element}},{key:"tail",value:function(){return new A(this.measure)}},{key:"init",value:function(){return new A(this.measure)}},{key:"unshift",value:function(e){return new P(this.measure,new T(e),new A(this.measure),new T(this.element))}},{key:"push",value:function(e){return new P(this.measure,new T(this.element),new A(this.measure),new T(e))}},{key:"concat",value:function(e){return e.unshift(this.element)}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.element;case 2:case"end":return e.stop()}},n,this)})},{key:"splitTree",value:function(e,t){return new E(new A(this.measure),this.element,new A(this.measure))}},{key:"split",value:function(e){return e(this.v)?[new A(this.measure),this]:[this,new A(this.measure)]}}]),t}(N),P=function(e){function n(e,t,r,i){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.measure=e,this.left=t,this.middle=r,this.right=i,this.v=e.plus(y(e,this.left),e.plus(this.middle.v,y(e,this.right)))}return _inherits(n,e),_createClass(n,[{key:"empty",value:function(){return!1}},{key:"head",value:function(){return this.left.head()}},{key:"last",value:function(){return this.right.last()}},{key:"tail",value:function(){return 1===this.left.length?this.middle.empty()?s(this.measure,this.right):new n(this.measure,this.middle.head().digit(),this.middle.tail(),this.right):new n(this.measure,this.left.tail(),this.middle,this.right)}},{key:"init",value:function(){return 1===this.right.length?this.middle.empty()?s(this.measure,this.left):new n(this.measure,this.left,this.middle.init(),this.middle.last().digit()):new n(this.measure,this.left,this.middle,this.right.init())}},{key:"unshift",value:function(e){return 4===this.left.length?new n(this.measure,new O(e,this.left.head()),this.middle.unshift(this.left.tail().node(this.measure)),this.right):new n(this.measure,this.left.unshift(e),this.middle,this.right)}},{key:"push",value:function(e){return 4===this.right.length?new n(this.measure,this.left,this.middle.push(this.right.init().node(this.measure)),new O(this.right.last(),e)):new n(this.measure,this.left,this.middle,this.right.push(e))}},{key:"concat",value:function(e){return g(this,[],e)}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function r(){var e,n,i,s,u,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(this.left,"t0",1);case 1:e=!0,n=!1,i=t,r.prev=4,s=this.middle[Symbol.iterator]();case 6:if(e=(u=s.next()).done){r.next=12;break}return a=u.value,r.delegateYield(a,"t1",9);case 9:e=!0,r.next=6;break;case 12:r.next=18;break;case 14:r.prev=14,r.t2=r["catch"](4),n=!0,i=r.t2;case 18:r.prev=18,r.prev=19,!e&&s["return"]&&s["return"]();case 21:if(r.prev=21,!n){r.next=24;break}throw i;case 24:return r.finish(21);case 25:return r.finish(18);case 26:return r.delegateYield(this.right,"t3",27);case 27:case"end":return r.stop()}},r,this,[[4,14,18,26],[19,,21,25]])})},{key:"splitTree",value:function(e,t){var n=this.left,r=this.middle,i=this.right,u=this.measure,a=u.plus(t,y(u,n));if(e(a)){var o=n.splitDigit(e,t,u);return new E(s(u,o.left),o.middle,w(u,o.right,r,i))}var h=u.plus(a,r.v);if(e(h)){var c=r.splitTree(e,a),l=c.middle.digit().splitDigit(e,u.plus(a,c.left.v),u);return new E(d(u,n,c.left,l.left),l.middle,w(u,l.right,c.right,i))}var f=i.splitDigit(e,h,u);return new E(d(u,n,r,f.left),f.middle,s(u,f.right))}},{key:"split",value:function i(e){if(e(this.v)){var i=this.splitTree(e,this.measure.zero());return[i.left,i.right.unshift(i.middle)]}return[this,new A(this.measure)]}}]),n}(N),z=function(e){function n(e){var r=arguments.length<=1||arguments[1]===t?new A(v(e)):arguments[1];return function(){_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.M=e,this.T=r}.apply(this,arguments)}return _inherits(n,e),_createClass(n,[{key:"measure",value:function(){return this.T.v}},{key:"empty",value:function(){return this.T.empty()}},{key:"head",value:function(){return this.T.head().element}},{key:"last",value:function(){return this.T.last().element}},{key:"tail",value:function(){return new n(this.M,this.T.tail())}},{key:"init",value:function(){return new n(this.M,this.T.init())}},{key:"push",value:function(e){return new n(this.M,this.T.push(new C(this.M,e)))}},{key:"unshift",value:function(e){return new n(this.M,this.T.unshift(new C(this.M,e)))}},{key:"concat",value:function(e){return new n(this.M,this.T.concat(e.T))}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function r(){var e,n,i,s,u,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e=!0,n=!1,i=t,r.prev=3,s=this.T[Symbol.iterator]();case 5:if(e=(u=s.next()).done){r.next=12;break}return a=u.value,r.next=9,a.element;case 9:e=!0,r.next=5;break;case 12:r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](3),n=!0,i=r.t0;case 18:r.prev=18,r.prev=19,!e&&s["return"]&&s["return"]();case 21:if(r.prev=21,!n){r.next=24;break}throw i;case 24:return r.finish(21);case 25:return r.finish(18);case 26:case"end":return r.stop()}},r,this,[[3,14,18,26],[19,,21,25]])})},{key:"splitTree",value:function(e,t){var r=this.T.splitTree(e,t),i=r.left,s=r.middle,u=r.right;return new E(new n(this.M,i),s.element,new n(this.M,u))}},{key:"split",value:function(e){var t=this.T.split(e),r=_slicedToArray(t,2),i=r[0],s=r[1];return[new n(this.M,i),new n(this.M,s)]}}],[{key:"from_iterable",value:function(e,t){return new n(e).extend(t)}}]),n}(N);return e.FingerTree=z,e};"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define("aureooms-js-fingertree",[],function(){return e({})}):"object"==typeof window&&"object"==typeof window.document?e(window.fingertree={}):console.error("unable to detect type of module to define for aureooms-js-fingertree")}();
//# sourceMappingURL=js/dist/fingertree.js.map