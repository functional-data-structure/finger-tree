"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}!function(){var t=function(t,e){function n(t,e,i){return t=t.force(),i=i.force(),t instanceof B?v(i,e):i instanceof B?r(t,e):t instanceof G?v(i,e).cons(t.head()):i instanceof G?r(t,e).push(i.last()):new H(t.M,t.left,J(function(){return n(t.middle,o(t.M,[].concat(_toConsumableArray(c(t.right,e,i.left)))),i.middle)}),i.right)}function r(t,e){return a(u,e,t)}function i(t,e){return new B(t).append(e)}function o(t,e){var n=[],r=e.length,i=0;switch(r%3){case 1:n.push(F(t,e[0],e[1])),n.push(F(t,e[2],e[3])),i+=4;break;case 2:n.push(F(t,e[0],e[1])),i+=2}for(;r>i;i+=3)n.push(U(t,e[i],e[i+1],e[i+2]));return n}function s(t,e){return a(h,p([].concat(_toConsumableArray(e))),t)}function u(t,e){return t.push(e)}function h(t,e){return t.cons(e)}function c(){var t,n,r,i,o,s,u,h,c,a=arguments;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:for(t=!0,n=!1,r=e,p.prev=3,i=a.length,o=Array(i),s=0;i>s;s++)o[s]=a[s];u=o[Symbol.iterator]();case 6:if(t=(h=u.next()).done){p.next=12;break}return c=h.value,p.delegateYield(c,"t0",9);case 9:t=!0,p.next=6;break;case 12:p.next=18;break;case 14:p.prev=14,p.t1=p["catch"](3),n=!0,r=p.t1;case 18:p.prev=18,p.prev=19,!t&&u["return"]&&u["return"]();case 21:if(p.prev=21,!n){p.next=24;break}throw r;case 24:return p.finish(21);case 25:return p.finish(18);case 26:case"end":return p.stop()}},K[0],this,[[3,14,18,26],[19,,21,25]])}function a(t,n,r){var i=r,o=!0,s=!1,u=e;try{for(var h,c=n[Symbol.iterator]();!(o=(h=c.next()).done);o=!0){var a=h.value;i=t(i,a)}}catch(p){s=!0,u=p}finally{try{!o&&c["return"]&&c["return"]()}finally{if(s)throw u}}return i}function p(t){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e=t.length;case 1:if(!e--){n.next=6;break}return n.next=4,t[e];case 4:n.next=1;break;case 6:case"end":return n.stop()}},K[1],this)}function f(t){this.M=t}function l(t){return t instanceof f?t:new f(t)}function y(t,e){return e=e.force(),e instanceof B?t:e instanceof G?t.push(e.last()):new H(t.M,t.left,J(function(){return n(t.middle,t.right._nodes(t.M,e.left),e.middle)}),e.right)}function d(t,e,n,r){return J(function(){return _(t,e,n,r)})}function w(t,e,n,r){return J(function(){return A(t,e,n,r)})}function m(t){switch(t.length){case 1:return new R(t[0]);case 2:return new j(t[0],t[1]);case 3:return new z(t[0],t[1],t[2]);case 4:throw new Error("digit(.) should never be called on length 4 lists since it is only called on results of splitDigit which outputs lists of length at most 3");default:throw new Error("cannot make digit for length "+t.length)}}function b(t,e){if(e instanceof R)return new G(t,e.a);if(e instanceof j||e instanceof z||e instanceof Y)return new H(t,e.init(),new B(t),new R(e.last()));throw new Error("second argument is not a Digit")}function g(t,e){switch(e.length){case 0:return new B(t);case 1:return new G(t,e[0]);case 2:return new H(t,new R(e[0]),new B(t),new R(e[1]));case 3:return new H(t,new j(e[0],e[1]),new B(t),new R(e[2]));default:throw new Error("second argument has wrong length")}}function v(t,e){return a(h,p(e),t)}function M(){}function E(t,e){this.value=t,this.next=e}function x(t){this.current=t}function k(t){return new x(new E(null,t))}function S(t,e){return new E({done:!1,value:t},e)}function N(t){return new E({done:!1,value:t},P)}function D(){this.value={done:!0},this.next=this}function T(t,e,n){this.left=t,this.middle=e,this.right=n}function _(t,e,n,r){return 0===e.length?n.empty()?b(t,r):new H(t,n.head().digit(),J(function(){return n.tail()}),r):new H(t,m(e),n,r)}function A(t,e,n,r){return 0===r.length?n.empty()?b(t,e):new H(t,e,J(function(){return n.init()}),n.last().digit()):new H(t,e,n,m(r))}function R(t){this.a=t,this.v=null}function j(t,e){this.a=t,this.b=e,this.v=null}function z(t,e,n){this.a=t,this.b=e,this.c=n,this.v=null}function Y(t,e,n,r){this.a=t,this.b=e,this.c=n,this.d=r,this.v=null}function C(t,e,n){this.v=t,this.a=e,this.b=n}function F(t,e,n){return new C(t.plus(t.measure(e),t.measure(n)),e,n)}function O(t,e,n,r){this.v=t,this.a=e,this.b=n,this.c=r}function U(t,e,n,r){return new O(t.plus(t.measure(e),t.plus(t.measure(n),t.measure(r))),e,n,r)}function q(){}function B(t){this.M=t,this.v=t.zero()}function G(t,e){this.M=t,this.element=e,this.v=t.measure(e)}function H(t,e,n,r){this.M=t,this.left=e,this.middle=n,this.right=r,this.v=null}function I(t){this.tree=null,this.thunk=t}function J(t){return new I(t)}var K=[c,p].map(regeneratorRuntime.mark);f.prototype.zero=function(){return this.M.zero()},f.prototype.plus=function(t,e){return this.M.plus(t,e)},f.prototype.measure=function(t){return t.measure()},M.prototype.next=function(){return{done:!0}};var L=new M;x.prototype.next=function(){return(this.current=this.current.next).value};var P=new D;return R.prototype[Symbol.iterator]=function(){return k(N(this.a))},R.prototype.measure=function(t){return null===this.v&&(this.v=t.measure(this.a)),this.v},R.prototype.head=function(){return this.a},R.prototype.last=function(){return this.a},R.prototype.init=function(){throw new Error("cannot call init on digit One")},R.prototype.tail=function(){throw new Error("cannot call tail on digit One")},R.prototype.push=function(t){return new j(this.a,t)},R.prototype.cons=function(t){return new j(t,this.a)},R.prototype.node=function(t){throw new Error("cannot convert One to node")},R.prototype.splitDigit=function(t,e,n){return new T([],this.a,[])},R.prototype._nodes=function(t,e){return e instanceof R?[F(t,this.a,e.a)]:e instanceof j?[U(t,this.a,e.a,e.b)]:e instanceof z?[F(t,this.a,e.a),F(t,e.b,e.c)]:[U(t,this.a,e.a,e.b),F(t,e.c,e.d)]},j.prototype[Symbol.iterator]=function(){return k(S(this.a,N(this.b)))},j.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.measure(this.b))),this.v},j.prototype.head=function(){return this.a},j.prototype.last=function(){return this.b},j.prototype.init=function(){return new R(this.a)},j.prototype.tail=function(){return new R(this.b)},j.prototype.push=function(t){return new z(this.a,this.b,t)},j.prototype.cons=function(t){return new z(t,this.a,this.b)},j.prototype.node=function(t){throw new Error("Two should never be converted to Node2 with current implementation")},j.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new T([],this.a,[this.b]):new T([this.a],this.b,[])},j.prototype._nodes=function(t,e){return e instanceof R?[U(t,this.a,this.b,e.a)]:e instanceof j?[F(t,this.a,this.b),F(t,e.a,e.b)]:e instanceof z?[U(t,this.a,this.b,e.a),F(t,e.b,e.c)]:[U(t,this.a,this.b,e.a),U(t,e.b,e.c,e.d)]},z.prototype[Symbol.iterator]=function(){return k(S(this.a,S(this.b,N(this.c))))},z.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.plus(t.measure(this.b),t.measure(this.c)))),this.v},z.prototype.head=function(){return this.a},z.prototype.last=function(){return this.c},z.prototype.init=function(){return new j(this.a,this.b)},z.prototype.tail=function(){return new j(this.b,this.c)},z.prototype.push=function(t){return new Y(this.a,this.b,this.c,t)},z.prototype.cons=function(t){return new Y(t,this.a,this.b,this.c)},z.prototype.node=function(t){return U(t,this.a,this.b,this.c)},z.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new T([],this.a,[this.b,this.c]):(e=n.plus(e,n.measure(this.b)),t(e)?new T([this.a],this.b,[this.c]):new T([this.a,this.b],this.c,[]))},z.prototype._nodes=function(t,e){return e instanceof R?[F(t,this.a,this.b),F(t,this.c,e.a)]:e instanceof j?[U(t,this.a,this.b,this.c),F(t,e.a,e.b)]:e instanceof z?[U(t,this.a,this.b,this.c),U(t,e.a,e.b,e.c)]:[U(t,this.a,this.b,this.c),F(t,e.a,e.b),F(t,e.c,e.d)]},Y.prototype[Symbol.iterator]=function(){return k(S(this.a,S(this.b,S(this.c,N(this.d)))))},Y.prototype.measure=function(t){return null===this.v&&(this.v=t.plus(t.measure(this.a),t.plus(t.measure(this.b),t.plus(t.measure(this.c),t.measure(this.d))))),this.v},Y.prototype.head=function(){return this.a},Y.prototype.last=function(){return this.d},Y.prototype.init=function(){return new z(this.a,this.b,this.c)},Y.prototype.tail=function(){return new z(this.b,this.c,this.d)},Y.prototype.push=function(t){throw new Error("cannot push digit Four")},Y.prototype.cons=function(t){throw new Error("cannot cons digit Four")},Y.prototype.node=function(t){throw new Error("cannot convert Four to node")},Y.prototype.splitDigit=function(t,e,n){return e=n.plus(e,n.measure(this.a)),t(e)?new T([],this.a,[this.b,this.c,this.d]):(e=n.plus(e,n.measure(this.b)),t(e)?new T([this.a],this.b,[this.c,this.d]):(e=n.plus(e,n.measure(this.c)),t(e)?new T([this.a,this.b],this.c,[this.d]):new T([this.a,this.b,this.c],this.d,[])))},Y.prototype._nodes=function(t,e){return e instanceof R?[U(t,this.a,this.b,this.c),F(t,this.d,e.a)]:e instanceof j?[U(t,this.a,this.b,this.c),U(t,this.d,e.a,e.b)]:e instanceof z?[U(t,this.a,this.b,this.c),F(t,this.d,e.a),F(t,e.b,e.c)]:[U(t,this.a,this.b,this.c),U(t,this.d,e.a,e.b),F(t,e.c,e.d)]},C.prototype[Symbol.iterator]=function(){return k(S(this.a,N(this.b)))},C.prototype.measure=function(){return this.v},C.prototype.digit=function(){return new j(this.a,this.b)},C.prototype.head=function(){throw new Error("trying to call head of Node2")},C.prototype.last=function(){throw new Error("trying to call last of Node2")},C.prototype.init=function(){throw new Error("trying to call init of Node2")},C.prototype.tail=function(){throw new Error("trying to call tail of Node2")},C.prototype.push=function(t){throw new Error("trying to call push of Node2")},C.prototype.cons=function(t){throw new Error("trying to call cons of Node2")},O.prototype[Symbol.iterator]=function(){return k(S(this.a,S(this.b,N(this.c))))},O.prototype.measure=function(){return this.v},O.prototype.digit=function(){return new z(this.a,this.b,this.c)},O.prototype.head=function(){throw new Error("trying to call head of Node3")},O.prototype.last=function(){throw new Error("trying to call last of Node3")},O.prototype.init=function(){throw new Error("trying to call init of Node3")},O.prototype.tail=function(){throw new Error("trying to call tail of Node3")},O.prototype.push=function(t){throw new Error("trying to call push of Node3")},O.prototype.cons=function(t){throw new Error("trying to call cons of Node3")},q.prototype.force=function(){return this},q.prototype.takeUntil=function(t){return this.split(t)[0]},q.prototype.dropUntil=function(t){return this.split(t)[1]},q.prototype.append=function(t){return r(this,t)},q.prototype.prepend=function(t){return s(this,t)},B.prototype=new q,B.prototype.measure=function(){return this.v},B.prototype.empty=function(){return!0},B.prototype.head=function(){throw new Error("cannot call head on Empty")},B.prototype.last=function(){throw new Error("cannot call last on Empty")},B.prototype.tail=function(){return this},B.prototype.init=function(){return this},B.prototype.push=function(t){return new G(this.M,t)},B.prototype.cons=function(t){return new G(this.M,t)},B.prototype.concat=function(t){return t},B.prototype[Symbol.iterator]=function(){return L},B.prototype.splitTree=function(t,e){throw new Error("splitTree not implemented in Empty")},B.prototype.split=function(t){return[this,this]},G.prototype=new q,G.prototype.measure=function(){return this.v},G.prototype.empty=function(){return!1},G.prototype.head=function(){return this.element},G.prototype.last=function(){return this.element},G.prototype.tail=function(){return new B(this.M)},G.prototype.init=function(){return new B(this.M)},G.prototype.cons=function(t){return new H(this.M,new R(t),new B(l(this.M)),new R(this.element))},G.prototype.push=function(t){return new H(this.M,new R(this.element),new B(l(this.M)),new R(t))},G.prototype.concat=function(t){return t.cons(this.element)},G.prototype[Symbol.iterator]=regeneratorRuntime.mark(function Q(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.element;case 2:case"end":return t.stop()}},Q,this)}),G.prototype.splitTree=function(t,e){return new T(new B(this.M),this.element,new B(this.M))},G.prototype.split=function(t){return t(this.measure())?[new B(this.M),this]:[this,new B(this.M)]},H.prototype=new q,H.prototype.measure=function(){if(null===this.v){var t=this.M;this.v=t.plus(this.left.measure(t),t.plus(this.middle.measure(),this.right.measure(t)))}return this.v},H.prototype.empty=function(){return!1},H.prototype.head=function(){return this.left.head()},H.prototype.last=function(){return this.right.last()},H.prototype.tail=function(){var t=this;return this.left instanceof R?this.middle.empty()?b(this.M,this.right):new H(this.M,this.middle.head().digit(),J(function(){return t.middle.tail()}),this.right):new H(this.M,this.left.tail(),this.middle,this.right)},H.prototype.init=function(){var t=this;return this.right instanceof R?this.middle.empty()?b(this.M,this.left):new H(this.M,this.left,J(function(){return t.middle.init()}),this.middle.last().digit()):new H(this.M,this.left,this.middle,this.right.init())},H.prototype.cons=function(t){return this.left instanceof Y?new H(this.M,new j(t,this.left.head()),this.middle.cons(this.left.tail().node(this.M)),this.right):new H(this.M,this.left.cons(t),this.middle,this.right)},H.prototype.push=function(t){return this.right instanceof Y?new H(this.M,this.left,this.middle.push(this.right.init().node(this.M)),new j(this.right.last(),t)):new H(this.M,this.left,this.middle,this.right.push(t))},H.prototype.concat=function(t){return y(this,t)},H.prototype[Symbol.iterator]=regeneratorRuntime.mark(function V(){var t,n,r,i,o,s;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.delegateYield(this.left,"t0",1);case 1:t=!0,n=!1,r=e,u.prev=4,i=this.middle[Symbol.iterator]();case 6:if(t=(o=i.next()).done){u.next=12;break}return s=o.value,u.delegateYield(s,"t1",9);case 9:t=!0,u.next=6;break;case 12:u.next=18;break;case 14:u.prev=14,u.t2=u["catch"](4),n=!0,r=u.t2;case 18:u.prev=18,u.prev=19,!t&&i["return"]&&i["return"]();case 21:if(u.prev=21,!n){u.next=24;break}throw r;case 24:return u.finish(21);case 25:return u.finish(18);case 26:return u.delegateYield(this.right,"t3",27);case 27:case"end":return u.stop()}},V,this,[[4,14,18,26],[19,,21,25]])}),H.prototype.splitTree=function(t,e){var n=this.left,r=this.middle,i=this.right,o=this.M,s=o.plus(e,n.measure(o));if(t(s)){var u=n.splitDigit(t,e,o);return new T(g(o,u.left),u.middle,d(o,u.right,r,i))}var h=o.plus(s,r.measure());if(t(h)){var c=r.splitTree(t,s),a=c.middle.digit().splitDigit(t,o.plus(s,c.left.measure()),o);return new T(w(o,n,c.left,a.left),a.middle,d(o,a.right,c.right,i))}var p=i.splitDigit(t,h,o);return new T(w(o,n,r,p.left),p.middle,g(o,p.right))},H.prototype.split=function(t){if(t(this.measure())){var e=this.splitTree(t,this.M.zero());return[e.left,e.right.cons(e.middle)]}return[this,new B(this.M)]},I.prototype=new q,I.prototype.force=function(){return null===this.tree&&(this.tree=this.thunk(),this.thunk=null),this.tree},I.prototype.empty=function(){return this.force().empty()},I.prototype.measure=function(){return this.force().measure()},I.prototype.head=function(){return this.force().head()},I.prototype.last=function(){return this.force().last()},I.prototype.cons=function(t){return this.force().cons(t)},I.prototype.push=function(t){return this.force().push(t)},I.prototype.tail=function(){return this.force().tail()},I.prototype.init=function(){return this.force().init()},I.prototype.splitTree=function(t,e){return this.force().splitTree(t,e)},I.prototype.split=function(t){return this.force().split(t)},I.prototype.concat=function(t){return this.force().concat(t)},I.prototype[Symbol.iterator]=function(){return this.force()[Symbol.iterator]()},t.empty=function(t){return new B(t)},t.from_iterable=i,t};"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define("aureooms-js-fingertree",[],function(){return t({})}):"object"==typeof window&&"object"==typeof window.document?t(window.fingertree={}):console.error("unable to detect type of module to define for aureooms-js-fingertree")}();
//# sourceMappingURL=js/dist/fingertree.js.map